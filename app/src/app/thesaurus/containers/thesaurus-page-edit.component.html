<m-spinner [mLoading]="isLoading">
  <m-card>
    <div *m-card-header style="display: flex">
      <div style="margin-right: auto;">
        <label>{{pageContent?.name}}</label>
      </div>
      <div style="margin-left: auto; margin-right: auto;">
        <nz-radio-group name="sourceImportType" [(ngModel)]="showPreview">
          <label nz-radio-button [nzValue]="false"><m-icon mCode="pic-center"></m-icon></label>
          <label nz-radio-button [nzValue]="true"><m-icon mCode="pic-left"></m-icon></label>
        </nz-radio-group>
      </div>
      <div style="margin-left: auto;">
        <m-button (click)="save()" mDisplay="primary">
          <m-icon mCode="check"></m-icon>
        </m-button>
        <m-button (click)="modalVisible = true" style="margin-left: 0.5rem">
          <m-icon mCode="setting"></m-icon>
        </m-button>
        <m-button (click)="closeEditMode()" style="margin-left: 0.5rem">
          <m-icon mCode="close"></m-icon>
        </m-button>
      </div>
    </div>

    <twa-smart-text-editor *ngIf="pageContent" [(ngModel)]="pageContent.content" [valueType]="pageContent.contentType" [showPreview]="showPreview" name="content"></twa-smart-text-editor>

  </m-card>
</m-spinner>

<twa-thesaurus-page-modal [modalVisible]="modalVisible"
    [pageId]="pageContent?.pageId"
    [contentId]="pageContent?.id"
    (closed)="modalVisible = false"
    (saved)="openPageContentEdit($event)"></twa-thesaurus-page-modal>
