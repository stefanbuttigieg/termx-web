<m-modal [(mVisible)]="modalVisible" (mClose)="closed.emit()">
  <ng-container *m-modal-header>
    {{(pageId ? 'web.thesaurus-page.form.edit-header' : 'web.thesaurus-page.form.add-header') | translate}}
  </ng-container>

  <ng-container *m-modal-content>
    <form #form="ngForm" *ngIf="page">
      <m-form-item mName="status" mLabel="entities.page.status" required>
        <m-select name="status" [(ngModel)]="page.status" required>
          <m-option label="draft" [value]="'draft'"></m-option>
          <m-option label="active" [value]="'active'"></m-option>
        </m-select>
      </m-form-item>

      <m-form-item mName="name" mLabel="entities.page-content.name" required>
        <m-input name="name" [(ngModel)]="content.name" autofocus required></m-input>
      </m-form-item>

      <m-form-item mName="lang" mLabel="entities.page-content.lang" required>
        <m-select name="lang" [(ngModel)]="content.lang" required>
          <m-option label="en" [value]="'en'"></m-option>
          <m-option label="et" [value]="'et'"></m-option>
        </m-select>
      </m-form-item>

      <m-form-item mName="type" [mLabel]="contentTypeLabel" required>
        <ng-template #contentTypeLabel>
            <label>{{'entities.page-content.content-type' | translate}}</label>
            <m-icon mCode="exclamation-circle" style="margin-left: 0.5rem"  m-tooltip mTitle="web.thesaurus-page.form.content-type-tooltip"></m-icon>
        </ng-template>
        <m-select name="type" [(ngModel)]="content.contentType" required>
          <m-option label="WYSIWYG" [value]="'html'"></m-option>
          <m-option label="Markdown" [value]="'markdown'"></m-option>
        </m-select>
      </m-form-item>
    </form>
  </ng-container>

  <div *m-modal-footer class="tw-button-group">
    <m-button mDisplay="text" (click)="closed.emit()">{{'core.btn.close' | translate}}</m-button>
    <m-button mDisplay="primary"
        [mLoading]="loading['save']"
        [disabled]="loading['init'] || isLoading"
        (click)="save()">{{'core.btn.save' | translate}}</m-button>
  </div>
</m-modal>


