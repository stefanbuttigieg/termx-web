<tw-finder-wrapper [loading]="loading" title="VALUE SET VERSION">
  <m-alert mType="warning" mTitle="Work In Progress" mShowIcon style="margin-top: 0">
    TODO: Rule set & VSV Concepts
  </m-alert>

  <div class="tw-finder-view-form">
    <m-form-item mLabel="entities.value-set-version.status">
      <tw-status-tag [status]="version?.status"></tw-status-tag>
    </m-form-item>

    <m-form-row mFull>
      <div *mFormCol>
        <m-form-item mLabel="entities.value-set-version.version">
          {{version?.version || '-'}}
        </m-form-item>
      </div>
    </m-form-row>

    <m-form-row mFull>
      <div *mFormCol>
        <m-form-item mLabel="entities.value-set-version.release-date">
          {{(version?.releaseDate | localDate) || '-'}}
        </m-form-item>
      </div>

      <div *mFormCol>
        <m-form-item mLabel="entities.value-set-version.expiration-date">
          {{(version?.expirationDate | localDate) || '-'}}
        </m-form-item>
      </div>
    </m-form-row>

    <m-form-item mLabel="entities.value-set-version.description">
      {{version?.description || '-'}}
    </m-form-item>
  </div>

  <tw-finder-menu title="entities.value-set-version.rule-set" [length]="1">
    <tw-finder-menu-item>
      {{(version?.ruleSet?.lockedDate | localDate) || '-'}}
      {{version?.ruleSet?.inactive || '-'}}
    </tw-finder-menu-item>

    <tw-finder-menu-item>
      <tw-finder-menu title="entities.value-set-rule-set.include" [length]="version?.ruleSet?.rules?.length">
        <tw-finder-menu-item *ngFor="let r of version?.ruleSet?.rules">
          {{r.codeSystem}} {{r.type}}
        </tw-finder-menu-item>
      </tw-finder-menu>
    </tw-finder-menu-item>
  </tw-finder-menu>
</tw-finder-wrapper>
