<tw-finder-wrapper [loading]="loading['version']" title="CODE SYSTEM VERSION">
  <div class="tw-finder-view-form">
    <m-form-item mLabel="entities.code-system-version.status">
      <tw-status-tag [status]="version?.status"></tw-status-tag>
    </m-form-item>

    <m-form-row mFull>
      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.version">
          {{version?.version || '-'}}
        </m-form-item>
      </div>

      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.source">
          {{version?.source || '-'}}
        </m-form-item>
      </div>
    </m-form-row>

    <m-form-row mFull>
      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.preferred-language">
          {{version?.preferredLanguage || '-'}}
        </m-form-item>
      </div>

      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.supported-languages">
          {{version?.supportedLanguages || '-'}}
        </m-form-item>
      </div>
    </m-form-row>

    <m-form-item mLabel="entities.code-system-version.description">
      {{version?.description || '-'}}
    </m-form-item>

    <m-form-row mFull>
      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.release-date">
          {{(version?.releaseDate | localDate) || '-'}}
        </m-form-item>
      </div>

      <div *mFormCol>
        <m-form-item mLabel="entities.code-system-version.expiration-date">
          {{(version?.expirationDate | localDate) || '-'}}
        </m-form-item>
      </div>
    </m-form-row>
  </div>

  <!-- Entity versions -->
  <tw-finder-menu title="entities.code-system-version.entities" [loading]="loading['entities']" [length]="entityVersionResult.data.length">
    <tw-finder-menu-item *ngFor="let e of entityVersionResult.data">
      {{e.code}}
    </tw-finder-menu-item>

    <tw-finder-load-more-item
        *ngIf="entityVersionResult.data.length < entityVersionResult.meta.total"
        (twClick)="loadEntities(version.codeSystem, version.version,entityVersionResult.data.length + DEFAULT_ENTITY_VERSION_LIMIT)"
    ></tw-finder-load-more-item>
  </tw-finder-menu>
</tw-finder-wrapper>
