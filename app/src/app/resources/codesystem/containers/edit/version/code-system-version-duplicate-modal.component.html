<m-modal #modal [(mVisible)]="modalVisible" (mClose)="this.toggleModal()">
  <ng-container *m-modal-header>
    {{'web.code-system.form.versions.duplicate.duplicate-header' | translate}}
  </ng-container>

  <ng-container *m-modal-content>
    <form #form="ngForm" *ngIf="params">
      <m-form-item mName="sourceCodeSystem" mLabel="web.code-system.form.versions.duplicate.source-code-system" required>
        <twl-code-system-search name="sourceCodeSystem" [(ngModel)]="params.sourceCodeSystem" valuePrimitive autofocus required></twl-code-system-search>
      </m-form-item>

      <m-form-item mName="sourceVersion" mLabel="web.code-system.form.versions.duplicate.source-version" required>
        <twl-code-system-version-select name="sourceVersion"
            [(ngModel)]="params.sourceVersion"
            [codeSystemId]="params.sourceCodeSystem"
            required
        ></twl-code-system-version-select>
      </m-form-item>

      <m-form-item mName="targetVersion" mLabel="web.code-system.form.versions.duplicate.target-version" required>
        <m-input name="targetVersion" [(ngModel)]="params.targetVersion" required></m-input>
      </m-form-item>
    </form>
  </ng-container>

  <div *m-modal-footer class="m-items-middle">
    <m-button mDisplay="text" (click)="modal.close()">{{'core.btn.close' | translate}}</m-button>
    <m-button mDisplay="primary" (click)="duplicate()">{{'core.btn.duplicate' | translate}}</m-button>
  </div>
</m-modal>
